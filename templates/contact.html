{% extends "base.html" %}

{% block title %}문의하기 - BLH COMPANY{% endblock %}

{% block content %}
<!-- Page Header -->
<section class="bg-primary text-white py-5" style="margin-top: 76px;">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center">
                <h1 class="display-4 fw-bold mb-3">문의하기</h1>
                <p class="lead">
                    AI 기반 모빌리티 솔루션에 대한 문의사항이나 파트너십 제안을 언제든지 연락해주세요.
                </p>
            </div>
        </div>
    </div>
</section>

<!-- Contact Section -->
<section class="py-5">
    <div class="container">
        <div class="row">
            <!-- Contact Form -->
            <div class="col-lg-8 mb-5">
                <div class="card border-0 shadow-sm">
                    <div class="card-body p-5">
                        <h3 class="fw-bold mb-4">문의 양식</h3>
                        <form id="contactForm">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label for="name" class="form-label">이름 *</label>
                                    <input type="text" class="form-control" id="name" name="name" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="email" class="form-label">이메일 *</label>
                                    <input type="email" class="form-control" id="email" name="email" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="phone" class="form-label">연락처</label>
                                    <input type="tel" class="form-control" id="phone" name="phone">
                                </div>
                                <div class="col-md-6">
                                    <label for="company" class="form-label">회사명</label>
                                    <input type="text" class="form-control" id="company" name="company">
                                </div>
                                <div class="col-12">
                                    <label for="service_type" class="form-label">관심 서비스 *</label>
                                    <select class="form-select" id="service_type" name="service_type" required>
                                        <option value="">서비스를 선택해주세요</option>
                                        <option value="auction">온라인 경매 플랫폼</option>
                                        <option value="ev_diagnosis">EV 진단 솔루션</option>
                                        <option value="price_estimation">가격 산정 시스템</option>
                                        <option value="logistics">탁송 관재 시스템</option>
                                        <option value="partnership">파트너십</option>
                                        <option value="other">기타</option>
                                    </select>
                                </div>
                                <div class="col-12">
                                    <label for="message" class="form-label">문의 내용 *</label>
                                    <textarea class="form-control" id="message" name="message" rows="5" required placeholder="문의하실 내용을 자세히 적어주세요."></textarea>
                                </div>
                                <div class="col-12">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="privacy" required>
                                        <label class="form-check-label" for="privacy">
                                            <a href="#" class="text-decoration-none">개인정보 처리방침</a>에 동의합니다. *
                                        </label>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <button type="submit" class="btn btn-primary btn-lg px-5">
                                        <i class="fas fa-paper-plane me-2"></i>문의하기
                                    </button>
                                </div>
                            </div>
                        </form>
                        
                        <!-- Success/Error Messages -->
                        <div id="messageAlert" class="alert mt-3" style="display: none;"></div>
                    </div>
                </div>
            </div>
            
            <!-- Contact Information -->
            <div class="col-lg-4">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-body p-4">
                        <h4 class="fw-bold mb-4">연락처 정보</h4>
                        
                        <div class="contact-item mb-4">
                            <div class="d-flex align-items-start">
                                <div class="contact-icon bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 40px; height: 40px;">
                                    <i class="fas fa-map-marker-alt"></i>
                                </div>
                                <div>
                                    <h6 class="fw-bold mb-1">주소</h6>
                                    <p class="text-muted mb-0">
                                        부산시 해운대 우동 1436<br>
                                        카이저빌 613호
                                    </p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="contact-item mb-4">
                            <div class="d-flex align-items-start">
                                <div class="contact-icon bg-success text-white rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 40px; height: 40px;">
                                    <i class="fas fa-phone"></i>
                                </div>
                                <div>
                                    <h6 class="fw-bold mb-1">전화번호</h6>
                                    <p class="text-muted mb-0">051-123-4567</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="contact-item mb-4">
                            <div class="d-flex align-items-start">
                                <div class="contact-icon bg-info text-white rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 40px; height: 40px;">
                                    <i class="fas fa-envelope"></i>
                                </div>
                                <div>
                                    <h6 class="fw-bold mb-1">이메일</h6>
                                    <p class="text-muted mb-0">info@blhcompany.com</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="contact-item mb-4">
                            <div class="d-flex align-items-start">
                                <div class="contact-icon bg-warning text-white rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 40px; height: 40px;">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <div>
                                    <h6 class="fw-bold mb-1">운영시간</h6>
                                    <p class="text-muted mb-0">
                                        평일: 09:00 - 18:00<br>
                                        토요일: 09:00 - 13:00<br>
                                        일요일: 휴무
                                    </p>
                                </div>
                            </div>
                        </div>
                        
                        <hr class="my-4">
                        
                        <h5 class="fw-bold mb-3">빠른 문의</h5>
                        <div class="d-grid gap-2">
                            <a href="tel:051-123-4567" class="btn btn-outline-primary">
                                <i class="fas fa-phone me-2"></i>전화 문의
                            </a>
                            <a href="mailto:info@blhcompany.com" class="btn btn-outline-success">
                                <i class="fas fa-envelope me-2"></i>이메일 문의
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- FAQ Section -->
<section class="bg-light py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <h2 class="display-5 fw-bold text-center mb-5">자주 묻는 질문</h2>
                
                <div class="accordion" id="faqAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="faq1">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1">
                                온라인 경매 플랫폼은 어떻게 이용하나요?
                            </button>
                        </h2>
                        <div id="collapse1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                온라인 경매 플랫폼은 2026년 초반에 정식 오픈 예정입니다. 
                                차량 진단, 가격 산정, 탁송 서비스까지 통합적으로 제공하여 
                                투명하고 안전한 중고차 거래를 지원합니다.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="faq2">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2">
                                EV 진단 솔루션의 특징은 무엇인가요?
                            </button>
                        </h2>
                        <div id="collapse2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                BLE 기반 OBD-II 진단기를 활용하여 전기차 배터리 SOH, 셀 전압 편차, 
                                절연저항, 모터 상태 등을 실시간으로 측정합니다. 
                                글로벌 진단 장비 대비 1/5 수준의 가격으로 제공되며, 
                                Plug&Play 방식으로 쉽게 사용할 수 있습니다.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="faq3">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3">
                                가격 산정 시스템의 정확도는 어느 정도인가요?
                            </button>
                        </h2>
                        <div id="collapse3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                빅데이터와 AI 알고리즘을 활용하여 예측 오차율 ±2.5% 이내의 
                                정확한 가격을 산정합니다. 24시간 이내로 시세를 반영하며, 
                                개별 차량의 진단 데이터를 반영한 맞춤형 가격을 제공합니다.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="faq4">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4">
                                탁송 관재 시스템은 어떤 기능을 제공하나요?
                            </button>
                        </h2>
                        <div id="collapse4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                탁송 과정에서 발생하는 모든 행위를 전산화합니다. 
                                사진 촬영, 문서 징수, 비용 청구, 탁송 기사 관리, 보험 청구 등을 
                                자동화하고, GPS 기반 실시간 위치 추적과 ETA를 제공합니다. 
                                또한 통합 회계 처리까지 시스템에서 진행할 수 있습니다.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Map Section -->
<section class="py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <h2 class="display-5 fw-bold text-center mb-5">오시는 길</h2>
                <div class="map-container bg-light rounded" style="height: 400px;">
                    <div class="d-flex align-items-center justify-content-center h-100">
                        <div class="text-center">
                            <i class="fas fa-map fa-3x text-muted mb-3"></i>
                            <h5 class="text-muted">부산시 해운대 우동 1436 카이저빌 613호</h5>
                            <p class="text-muted">지도가 여기에 표시됩니다.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
document.getElementById('contactForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const formData = new FormData(this);
    const data = Object.fromEntries(formData.entries());
    
    fetch('/api/inquiry', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(data)
    })
    .then(response => response.json())
    .then(result => {
        const alertDiv = document.getElementById('messageAlert');
        if (result.success) {
            alertDiv.className = 'alert alert-success mt-3';
            alertDiv.textContent = result.message;
            alertDiv.style.display = 'block';
            document.getElementById('contactForm').reset();
        } else {
            alertDiv.className = 'alert alert-danger mt-3';
            alertDiv.textContent = result.message;
            alertDiv.style.display = 'block';
        }
        
        // Scroll to alert
        alertDiv.scrollIntoView({ behavior: 'smooth' });
    })
    .catch(error => {
        const alertDiv = document.getElementById('messageAlert');
        alertDiv.className = 'alert alert-danger mt-3';
        alertDiv.textContent = '오류가 발생했습니다. 다시 시도해주세요.';
        alertDiv.style.display = 'block';
    });
});
</script>
{% endblock %}
