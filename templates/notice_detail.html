{% extends "base.html" %}

{% block title %}{{ notice[1] }} - BLH COMPANY{% endblock %}

{% block content %}
<!-- Breadcrumb -->
<section class="pt-32 pb-8 bg-neutral-50">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <nav class="flex" aria-label="Breadcrumb">
            <ol class="inline-flex items-center space-x-1 md:space-x-3">
                <li class="inline-flex items-center">
                    <a href="{{ url_for('index') }}" class="inline-flex items-center text-sm font-medium text-neutral-700 hover:text-primary-900 transition-colors duration-300">
                        <i class="fas fa-home mr-2"></i>홈
                    </a>
                </li>
                <li>
                    <div class="flex items-center">
                        <i class="fas fa-chevron-right text-neutral-400 mx-2"></i>
                        <a href="{{ url_for('notices') }}" class="ml-1 text-sm font-medium text-neutral-700 hover:text-primary-900 transition-colors duration-300">공지사항</a>
                    </div>
                </li>
                <li aria-current="page">
                    <div class="flex items-center">
                        <i class="fas fa-chevron-right text-neutral-400 mx-2"></i>
                        <span class="ml-1 text-sm font-medium text-neutral-500">상세보기</span>
                    </div>
                </li>
            </ol>
        </nav>
    </div>
</section>

<!-- Notice Detail -->
<section class="py-16 bg-white">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <article class="bg-white rounded-3xl shadow-xl border border-neutral-200 overflow-hidden">
            <!-- Header -->
            <div class="p-8 bg-gradient-to-r from-primary-50 to-accent-50 border-b border-neutral-200">
                <div class="flex justify-between items-start mb-4">
                    <h1 class="text-3xl font-bold text-primary-900 leading-tight">{{ notice[1] }}</h1>
                    <div class="flex items-center text-sm text-neutral-500">
                        <i class="fas fa-eye mr-1"></i>
                        <span>{{ notice[6] }}회 조회</span>
                    </div>
                </div>
                
                <div class="flex flex-wrap items-center gap-6 text-sm text-neutral-600">
                    <div class="flex items-center">
                        <i class="fas fa-user mr-2 text-neutral-400"></i>
                        <span>{{ notice[3] }}</span>
                    </div>
                    <div class="flex items-center">
                        <i class="fas fa-calendar mr-2 text-neutral-400"></i>
                        <span>{{ notice[4].split(' ')[0] }}</span>
                    </div>
                    {% if notice[5] and notice[5] != notice[4] %}
                    <div class="flex items-center">
                        <i class="fas fa-edit mr-2 text-neutral-400"></i>
                        <span>수정: {{ notice[5].split(' ')[0] }}</span>
                    </div>
                    {% endif %}
                </div>
            </div>
            
            <!-- Content -->
            <div class="p-8">
                <div class="prose prose-lg max-w-none">
                    <div class="text-neutral-700 leading-relaxed whitespace-pre-line">{{ notice[2] }}</div>
                </div>
            </div>
            
            <!-- Footer -->
            <div class="p-8 bg-neutral-50 border-t border-neutral-200">
                <div class="flex justify-between items-center">
                    <a href="{{ url_for('notices') }}" 
                       class="inline-flex items-center px-6 py-3 bg-neutral-600 text-white font-medium rounded-xl hover:bg-neutral-700 transition-all duration-300">
                        <i class="fas fa-list mr-2"></i>목록으로 돌아가기
                    </a>
                    <button onclick="shareNotice()" 
                            class="inline-flex items-center px-6 py-3 border-2 border-accent-600 text-accent-600 font-medium rounded-xl hover:bg-accent-600 hover:text-white transition-all duration-300">
                        <i class="fas fa-share mr-2"></i>공유하기
                    </button>
                </div>
            </div>
        </article>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
function shareNotice() {
    if (navigator.share) {
        navigator.share({
            title: '{{ notice[1] }}',
            text: 'BLH COMPANY 공지사항',
            url: window.location.href
        });
    } else {
        // Fallback for browsers that don't support Web Share API
        const url = window.location.href;
        navigator.clipboard.writeText(url).then(() => {
            alert('링크가 클립보드에 복사되었습니다.');
        }).catch(() => {
            // Manual fallback
            const textarea = document.createElement('textarea');
            textarea.value = url;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
            alert('링크가 클립보드에 복사되었습니다.');
        });
    }
}
</script>
{% endblock %}
